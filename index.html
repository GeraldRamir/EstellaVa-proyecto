<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="Tu nombre">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="apple-mobile-web-app-capable" content="yes"> 
    <meta name="mobile-web-app-capable" content="yes">
	<link rel="manifest" href="./js/manifest.json">
	<meta name="theme-color" content="#1f5869">
	

	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link rel="shortcut icon" href="img/icons/icon-48x48.png" />

	<link rel="canonical" href="https://demo-basic.adminkit.io/" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

	<title>Asistente virtual Estella</title>

	<link href="css/app.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/mor.css">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

	<style>
		.responsive-search {
		  width: 100%; /* Ocupar todo el ancho disponible */
		  max-width: 800px; /* L√≠mite m√°ximo para pantallas grandes */
		  margin: auto;
		}
	  
		.responsive-search input {
		  flex-grow: 1;
		}
		.search-pop {
      display: none;
      position: absolute;
      background-color: rgba(255, 255, 255, 0.9);
      border: 1px solid black;
      padding: 10px;
      margin-top: 5px;
      border-radius: 5px;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 10;
		}
   
	  
		/* Media Query para pantallas peque√±as */
		@media (max-width: 576px) {
		  .responsive-search {
			max-width: 100%; /* El formulario ocupa todo el ancho en pantallas peque√±as */
			padding: 0 10px; /* Agrega espacio horizontal para mejor visualizaci√≥n */
		  }
	  
		  .responsive-search input {
			width: 100%; /* El input ocupa todo el espacio en pantallas peque√±as */
		  }

		}
	  </style>
	  
	  
</head>

<body>
	<div class="wrapper">
		<nav id="sidebar" class="sidebar js-sidebar bg-primary text-white">
			<div class="sidebar-content js-simplebar">
			  <a class="sidebar-brand" href="index.html">
				<img src="./imagenes/vision.png" alt="" class="img-fluid d-flex align-items-center mx-auto" style="width: 70%;" >
                <h2 class="text-center" id="SidebarI" style="margin-bottom: -10px; margin-top: -15px;">ESTELLA</h2>
                <p class="text-center" id="SidebarI">Tu asistente virtual</p>
			  </a>

		  
			  <ul class="sidebar-nav">
                  <li class="sidebar-header">
                    <img src="./imagenes/Estella_robot_Apps-removebg-preview.png" class="img-fluid" style="width: 15%;" alt="">
				  Panel de Administraci√≥n
				</li>
		  
				<li class="sidebar-item ">
				  <a class="sidebar-link" href="clima.html">
					<script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"
                        src="https://cdn.lordicon.com/zawvkqfy.json"
                        trigger="loop"
                        delay="200"
                        stroke="bold"
                        state="loop-cycle"
                        colors="primary:#66d7ee"
                        style="width:35px;height:35px">
                        
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Obtener el Clima</span>
				  </a>
				</li>
                <li class="sidebar-item">
                    <a class="sidebar-link" href="cripto.html">
                      <script src="https://cdn.lordicon.com/lordicon.js"></script>
                      <lord-icon
                    class="align-middle"

                          src="https://cdn.lordicon.com/qukjgmrh.json"
                          trigger="loop"
                          delay="70"
                          colors="primary:#66d7ee,secondary:#eeca66"
                          style="width:35px;height:35px">
                      </lord-icon>
                      <span class="align-middle" id="RobotFont">Criptomonedas</span>
                    </a>
                  </li>
		  
				<li class="sidebar-item">
				  <a class="sidebar-link" href="admTareas.html">
					<script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"

                        src="https://cdn.lordicon.com/wuvorxbv.json"
                        trigger="loop"
                        stroke="bold"
                        delay="200"
                        state="hover-line"
                        colors="primary:#66d7ee,secondary:#16a9c7"
                        style="width:35px;height:35px">
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Admin. tareas</span>
				  </a>
				</li>
		  
				
		  
				<li class="sidebar-item">
				  <a class="sidebar-link" href="presupuesto.html">
                    <script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"
                        src="https://cdn.lordicon.com/iawrhwdo.json"
                        trigger="loop"
                        stroke="bold"
                        colors="primary:#66d7ee,secondary:#16a9c7"
                        style="width:35px;height:35px">
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Presupuesto</span>
				  </a>
				</li>
		  
				<!-- <li class="sidebar-header">
                    <img src="./imagenes/Estella_robot_Apps-removebg-preview.png" class="img-fluid" style="width: 15%;" alt="">
                    Manejo de cuenta
				</li>
		  
				<li class="sidebar-item">
				  <a class="sidebar-link" href="Listado-Clientes.html">
					<script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"
                        src="https://cdn.lordicon.com/kdduutaw.json"
                        trigger="loop"
                        delay="1000"
                        state="morph-group"
                        colors="primary:#66d7ee,secondary:#16a9c7"
                        style="width:35px;height:35px">
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Perfil</span>
				  </a>
				</li>
		  
				<li class="sidebar-item">
				  <a class="sidebar-link" href="Proyecto3.html">
					<script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"
                        src="https://cdn.lordicon.com/gwvmctbb.json"
                        trigger="loop"
                        stroke="bold"
                        colors="primary:#66d7ee,secondary:#16a9c7"
                        delay="2000"
                        style="width:35px;height:35px">
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Cerrar Sesion</span>
				  </a>
				</li>
		  
				<li class="sidebar-header">
                    <img src="./imagenes/Estella_robot_help-removebg-preview.png" class="img-fluid" style="width: 15%;" alt="">
				  Herramientas y ayuda
				</li>
		  
				<li class="sidebar-item">
				  <a class="sidebar-link" href="#">
					<script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"
                        src="https://cdn.lordicon.com/jdgfsfzr.json"
                        trigger="loop"
                        delay="2000"
                        colors="primary:#66d7ee,secondary:#16a9c7"
                        style="width:35px;height:35px">
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Ayuda</span>
				  </a>
				</li>
		  
				<li class="sidebar-item">
				  <a class="sidebar-link" href="#">
					<script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"
                        src="https://cdn.lordicon.com/dicvhxpz.json"
                        trigger="loop"
                        delay="2000"
                        colors="primary:#66d7ee,secondary:#16a9c7"
                        style="width:35px;height:35px">
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Sobre nosotros</span>
				  </a>
				</li>
		  
				<li class="sidebar-item">
				  <a class="sidebar-link" href="#">
					<script src="https://cdn.lordicon.com/lordicon.js"></script>
                    <lord-icon
                    class="align-middle"
                        src="https://cdn.lordicon.com/vpbspaec.json"
                        trigger="loop"
                        delay="2000"
                        colors="primary:#16a9c7,secondary:#16a9c7"
                        style="width:35px;height:35px">
                    </lord-icon>
					<span class="align-middle" id="RobotFont">Contacto</span>
				  </a>
				</li> -->
			  </ul>
			</div>
		  </nav>
		  

		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg">
				<a class="sidebar-toggle js-sidebar-toggle">
          <i class="hamburger align-self-center"></i>
        </a>

				<div class="navbar-collapse collapse">
					<ul class="navbar-nav navbar-align">
						<a href="#" class="list-group-item">
							<!-- <button type="button" class="btn btn-danger" id="download-btn">descargar aplicacion</button> -->
						</a>
                        <img src="./imagenes/Estella_robot_Apps-removebg-preview.png" class="img-fluid" style="width: 50px;" alt="" id="imgPopover" data-bs-toggle="popover" data-bs-placement="left" title="Soy Estella, tu asistente virtual" data-bs-content="Estoy aqu√≠ para ayudarte con tareas, responder preguntas." data-bs-custom-class="custom-popover">
                        <div class="container rounded overflow-hidden position-relative me-4" style="height: 40px; background-color: #1f5869; width: 30vw;">
							<div class="moving-text card-title" style="white-space: nowrap; color: rgb(6, 6, 6); font-size: 1rem; position: absolute;">
								<p  id="RobotFont">
									Este texto se mueve hacia la derecha y aparece desde la izquierda.
								</p>
							</div>
						</div>
						<li class="nav-item d-flex align-items-center gap-2" id="userInfo" style="display: none;">
							<span id="userEmail" class="card-title"></span>
							<button id="logoutBtn" class="btn btn-danger rounded m-auto">Cerrar sesi√≥n</button>
						</li>


						  
						
					</ul>
				</div>
			</nav>
            <main class="content">
				<div class="container-fluid p-0">

                    <div class="row">
                        <div class="col-xl-6 col-lg-8 d-flex">
                            <div class="card flex-fill w-100" style="background-color: #e8f6fb;">
                                <div class="card-header d-flex" style="background-color: #c1d4f9; gap: 10px; align-items: center;">
                                    <!-- Imagen con ajuste fluido y centrado, controlando el tama√±o -->
                                    <img src="./imagenes/Estella_Robot-removebg-preview.png" class="img-fluid" style="object-fit: contain; width: 70px; height: auto;" alt="">
                                
                                    <!-- T√≠tulo con tama√±o de fuente responsivo -->
                                    <h1 class="h3 my-2">
                                        <strong class=" fs-1 fs-sm-5 fs-md-6 fs-lg-4 fs-xl-5" style="font: size 35v;" id="RobotFont-Dashboard">Estella VA by: Gerald Luciano</strong>
                                    </h1>
                                </div>
                                
								
								<div class="card-body py-3">
                                    <div class="row">
                                        <div class="d-flex">
                                            <div>
                                              <div class="row">
                                                <!-- Informaci√≥n de pr√©stamos activos -->
                                                <div class="col-sm-6">
                                                  <div class="card" style="background-color: #fadfbf;">
                                                    <div class="card-body">
                                                      <div class="row align-items-center">
                                                        <div class="col mt-0">
                                                          <h5 class="card-title">Puedo obtener el clima por ti</h5>
                                                        </div>
                                                        <div class="col-auto">
                                                          <div class="stat text-success">
                                                            <script src="https://cdn.lordicon.com/lordicon.js"></script>
                                                            <script src="https://cdn.lordicon.com/lordicon.js"></script>
                                                            <lord-icon
                                                                src="https://cdn.lordicon.com/evearxpv.json"
                                                                trigger="loop"
                                                                delay="100"
                                                                stroke="bold"
                                                                colors="primary:#9cf4df,secondary:#104891"
                                                                style="width:35px;height:35px">
                                                            </lord-icon>
                                                          </div>
                                                        </div>
                                                      </div>
                                                      <h3 class="mt-1 mb-3 fw-bold">Datos como:</h3>
                                                      <div class="mb-0">
                                                            <div class="container-fluid rounded text-white fw-bold d-flex align-items-center justify-content-center" style="height: 30px; background-color: #1f5869;">
                                                                <p class="mb-0">Velocidad del viento...</p>
                                                            </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <!-- Informaci√≥n de solicitudes pendientes -->
                                                  <div class="card" style="background-color: #fadfbf;">
                                                    <div class="card-body">
                                                      <div class="row align-items-center">
                                                        <div class="col mt-0">
                                                          <h5 class="card-title">Administrare tus tareas por ti</h5>
                                                        </div>
                                                        <div class="col-auto">
                                                          <div class="stat text-warning">
                                                            <script src="https://cdn.lordicon.com/lordicon.js"></script>
                                                            <lord-icon
                                                                src="https://cdn.lordicon.com/cbtlerlm.json"
                                                                trigger="loop"
                                                                delay="1000"
                                                                stroke="bold"
                                                                state="hover-line"
                                                                colors="primary:#3a3347,secondary:#ffc738,tertiary:#ebe6ef,quaternary:#f9c9c0,quinary:#3a3347"
                                                                style="width:35px;height:35px">
                                                            </lord-icon>
                                                          </div>
                                                        </div>
                                                      </div>
                                                      <h3 class="mt-1 mb-3 fw-bold">Acciones</h3>
                                                      <div class="mb-0">
                                                        <div class="container-fluid rounded text-white fw-bold d-flex align-items-center justify-content-center" style="height: 30px; background-color: #ceaa4f;">
                                                            <p class="mb-0">Crear, eliminar y editar</p>
                                                        </div>
                                                  </div>
                                                    </div>
                                                  </div>
                                                </div>
                                          
                                                <!-- Informaci√≥n adicional -->
                                                <div class="col-sm-6">
                                                  <!-- Pr√©stamos completados -->
                                                  <div class="card" style="background-color: #fadfbf;">
                                                    <div class="card-body">
                                                      <div class="row align-items-center">
                                                        <div class="col mt-0">
                                                          <h5 class="card-title">Datos sobre Criptomonedas</h5>
                                                        </div>
                                                        <div class="col-auto">
                                                          <div class="stat text-primary">
                                                            <script src="https://cdn.lordicon.com/lordicon.js"></script>
                                                            <lord-icon
                                                                src="https://cdn.lordicon.com/qjsxzmmg.json"
                                                                trigger="loop"
                                                                delay="000"
                                                                stroke="bold"
                                                                colors="primary:#0a2e5c,secondary:#7166ee,tertiary:#e88c30"
                                                                style="width:35px;height:35px">
                                                            </lord-icon>
                                                          </div>
                                                        </div>
                                                      </div>
                                                      <h3 class="mt-1 mb-3 fw-bold">Especificacion</h3>
                                                      <div class="mb-0">
                                                        <div class="container-fluid rounded text-white fw-bold d-flex align-items-center justify-content-center" style="height: 30px; background-color: #36185a;">
                                                            <p class="mb-0">Datos en tiempo real</p>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <!-- Tasa de aprobaci√≥n -->
                                                  <div class="card" style="background-color: #fadfbf;">
                                                    <div class="card-body">
                                                      <div class="row align-items-center">
                                                        <div class="col mt-0">
                                                            <h5 class="card-title">Administro tu presupuesto</h5>
                                                        </div>
                                                        <div class="col-auto">
                                                          <div class="stat text-info">
                                                            <script src="https://cdn.lordicon.com/lordicon.js"></script>
                                                            <lord-icon
                                                                src="https://cdn.lordicon.com/cukgelaw.json"
                                                                trigger="loop"
                                                                delay="2000"
                                                                stroke="bold"
                                                                state="morph-coins"
                                                                colors="primary:#0a5c15,secondary:#16c72e,tertiary:#d1fad7"
                                                                style="width:35px;height:35px">
                                                            </lord-icon>
                                                          </div>
                                                        </div>
                                                      </div>
                                                      <h3 class="mt-1 mb-3 fw-bold">Especificacion</h3>
                                                      <div class="mb-0">
                                                        <div class="container-fluid rounded text-white fw-bold d-flex align-items-center justify-content-center" style="height: 30px; background-color: #1a4a21;">
                                                            <p class="mb-0">Datos en tiempo real</p>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="container">
                                                    <div class="row">
                                                        <!-- Columna que ocupa toda la fila y alinea el contenido a la izquierda -->
                                                        <div class="col-12 d-flex align-items-center">
                                                            <button class="btn">
                                                                <script src="https://cdn.lordicon.com/lordicon.js"></script>
                                                                <lord-icon
                                                                    src="https://cdn.lordicon.com/ckooqaow.json"
                                                                    trigger="loop-on-hover"
                                                                    delay="500"
                                                                    stroke="bold"
                                                                    colors="primary:#b8d0f4,secondary:#2516c7,tertiary:#b8d0f4,quaternary:#0a2e5c,quinary:#7166ee"
                                                                    style="width:90px;height:90px">
                                                                </lord-icon>

                                                            </button>
                                                            <div class="card" style="border-radius: 10px;">
                                                                <div class="card-body w-100 mx-auto" style="border-radius: 10px; background-color: #fbd1a2;">
                                                                    <div class="row">
                                                                        <span class="ms-2">Preciona el boton e indicame que hacer</span>

                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
									
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-6 col-xl-6 d-flex order-3 order-xxl-1">
							<div class="col-lg-12">
								<div class="card border rounded shadow-sm p-3" style="background-color: #c4e5ee;">
									<div class="d-flex justify-content-center align-items-center vh-20">
										<div class="container text-center">
											<button type="button" class="btn text-white mb-3" style="background-color: #8abab6;">
												ChatBox VA <i data-feather="user"></i>
											</button>
											<button type="button" class="btn text-white mb-3" style="background-color: #8abab6;">
												Click para <i data-feather="user"></i>
											</button>
										</div>
									</div>
									<div class="sidebar-item align-items-center justify-content-center">
										<div class="d-flex justify-content-center">
										  <script src="https://cdn.lordicon.com/lordicon.js"></script>
										  <div class="stat" style="background-color: #1f5869;">
											  <lord-icon
											  class="align-middle"
												  src="https://cdn.lordicon.com/jdgfsfzr.json"
												  trigger="loop"
												  delay="2000"
												  colors="primary:#66d7ee,secondary:#16a9c7"
												  style="width:35px;height:35px">
											  </lord-icon>
										  </div>
										  <span class="align-middle mx-2  fs-2 fs-sm-4 fs-md-3 fs-xl-1 d-flex  text-nowrap" id="RobotFont-Dashboard" style="font-size: 40vh;">
											ChatBox de EstellaVa
										</span>
										<div class="stat" style="background-color: #1f5869;">
											<lord-icon
											class="align-middle"
												src="https://cdn.lordicon.com/jdgfsfzr.json"
												trigger="loop"
												delay="2000"
												colors="primary:#66d7ee,secondary:#16a9c7"
												style="width:35px;height:35px">
											</lord-icon>
										</div>
										
										</div>
									</div>
									
									<h4 class="text-center mb-3 card-title">Preguntame lo que quieras</h4>
									<!-- Ventana del chat -->
									<div id="chatWindow" class="border p-2 overflow-auto" style="height: 300px; background-color: #f7f9fc; border-radius: 8px;">
										<!-- Mensajes del chat -->
									</div>
									<!-- Input del chat -->
									<div class="input-group mt-3">
										<input type="text" id="userInput" class="form-control" placeholder="Escribe o utiliza el micr√≥fono">
										<button id="voiceButton" class="btn btn-secondary">
											<i class="fas fa-microphone"></i>
										</button>
										<button id="sendButton" class="btn btn-primary">Enviar</button>
									</div>
									<div class="d-flex gap-2 mt-3">
										<button id="clearChat" class="btn btn-danger w-50">Eliminar Chat</button>
										<button id="saveChat" class="btn btn-success w-50">Guardar Chat</button>
									</div>
									<hr>
									<h5 class="text-center mt-3">Chats Guardados</h5>
									<div id="savedChats" class="overflow-auto" style="height: 100px;">
										<!-- Chats guardados -->
									</div>
								</div>
							</div>
						</div>
						
					</div>
						
	
					<div class="row">
						<div class="col-12 col-md-4 col-xl-12 d-flex order-3 order-xxl-2 mb-4 mb-md-0">
							<div class="card flex-fill w-100 shadow-sm border-0" id="interactiveCard">
								<!-- Encabezado de la tarjeta -->
								<div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
									<h5 class="card-title mb-0">Real-Time Data</h5>
									<!-- Bot√≥n de cambiar tema -->
									<button class="btn btn-light btn-sm" id="toggleTheme" title="Cambiar tema">
										<i class="bi bi-brightness-high"></i>
									</button>
								</div>
						
								<!-- Cuerpo de la tarjeta -->
								<div class="card-body px-4 py-3">
									<!-- Mapa con part√≠culas -->
									<div id="world_map" style="height: 350px; background-color: #eee; position: relative; overflow: hidden;">
										<canvas id="particlesCanvas" style="position: absolute; top: 0; left: 0;"></canvas>
									</div>
						
									<!-- Bot√≥n para lanzar part√≠culas -->
									<button class="btn btn-info btn-sm mt-2" id="launchParticles">¬°Lanza part√≠culas!</button>
						
									<!-- Puntuaci√≥n -->
									<div class="mt-3">
										<h6>Puntuaci√≥n: <span id="score">0</span></h6>
									</div>
						
									<!-- Indicador de carga -->
									<div class="spinner-border text-primary d-none" id="loadingIndicator" role="status">
										<span class="visually-hidden">Cargando...</span>
									</div>
								</div>
						
								<!-- Pie de la tarjeta -->
								<div class="card-footer text-muted text-center">
									√öltima actualizaci√≥n: <span id="lastUpdated">Hace 5 minutos</span>
								</div>
							</div>
					</div>


			</main>

			

		</div>
	</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
<!-- Firebase Analytics -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics-compat.js"></script>
<!-- Firebase Firestore -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
<script src="./js/auth-check.js"></script>
 <script src="./js/authUserInfo.js"></script>
	<script src="js/pwa.js"></script>
	<script src="js/app.js"></script>
	<script src="js/document.js"></script>
	<script src="./js/prueba.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Inclusi√≥n de Bootstrap y FontAwesome para √≠conos -->
	<script>
		// Cambiar el tema (modo claro/oscuro)
		document.getElementById('toggleTheme').addEventListener('click', function() {
			const body = document.body;
			const card = document.getElementById('interactiveCard');
			body.classList.toggle('bg-dark');
			body.classList.toggle('text-light');
			card.classList.toggle('bg-dark');
			card.classList.toggle('text-light');
		});
	
		// Inicializaci√≥n de las part√≠culas
		let particles = [];
		let score = 0;
	
		function startParticles() {
			const canvas = document.getElementById('particlesCanvas');
			const ctx = canvas.getContext('2d');
			const container = document.getElementById('world_map');
			
			// Ajustar tama√±o del canvas al tama√±o del contenedor
			canvas.width = container.offsetWidth;
			canvas.height = container.offsetHeight;
	
			// Funci√≥n para generar un color aleatorio
			function getRandomColor() {
				const letters = '0123456789ABCDEF';
				let color = '#';
				for (let i = 0; i < 6; i++) {
					color += letters[Math.floor(Math.random() * 16)];
				}
				return color;
			}
	
			// Crear part√≠culas
			function createParticles(x, y) {
				for (let i = 0; i < 100; i++) {
					particles.push({
						x: x,
						y: y,
						size: Math.random() * 5 + 2,
						speedX: Math.random() * 4 - 2,
						speedY: Math.random() * 4 - 2,
						opacity: Math.random() * 0.5 + 0.2,
						color: getRandomColor(),
						lifetime: Math.random() * 30 + 20
					});
				}
			}
	
			// Dibujar part√≠culas
			function drawParticles() {
				ctx.clearRect(0, 0, canvas.width, canvas.height); // Limpiar el canvas
				particles.forEach(particle => {
					ctx.beginPath();
					ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
					ctx.fillStyle = `rgba(${parseInt(particle.color.substring(1, 3), 16)}, ${parseInt(particle.color.substring(3, 5), 16)}, ${parseInt(particle.color.substring(5, 7), 16)}, ${particle.opacity})`;
					ctx.fill();
					ctx.closePath();
				});
			}
	
			// Actualizar la posici√≥n de las part√≠culas
			function updateParticles() {
				particles.forEach(particle => {
					particle.x += particle.speedX;
					particle.y += particle.speedY;
					particle.size *= 0.98; // Reducir el tama√±o de las part√≠culas con el tiempo
					particle.opacity *= 0.98; // Reducir la opacidad con el tiempo
	
					// Verificar si la part√≠cula ha desaparecido
					if (particle.size <= 0.5 || particle.opacity <= 0) {
						particles = particles.filter(p => p !== particle); // Eliminar part√≠cula
					}
				});
			}
	
			// Detectar si el cursor est√° sobre una part√≠cula
			function detectParticleCollision(event) {
				const rect = container.getBoundingClientRect();
				const mouseX = event.clientX - rect.left;
				const mouseY = event.clientY - rect.top;
	
				particles.forEach(particle => {
					const distance = Math.sqrt(Math.pow(mouseX - particle.x, 2) + Math.pow(mouseY - particle.y, 2));
					if (distance < particle.size) {
						// Capturar part√≠cula
						particles = particles.filter(p => p !== particle); // Eliminar la part√≠cula
						score++;
						document.getElementById('score').textContent = score;
					}
				});
			}
	
			// Funci√≥n principal para animar las part√≠culas
			function animateParticles() {
				drawParticles();
				updateParticles();
				requestAnimationFrame(animateParticles); // Animaci√≥n continua
			}
	
			// Iniciar part√≠culas al hacer clic
			container.addEventListener('click', function(event) {
				const rect = container.getBoundingClientRect();
				const x = event.clientX - rect.left;
				const y = event.clientY - rect.top;
				createParticles(x, y); // Crear part√≠culas en la posici√≥n del clic
			});
	
			// Detectar el movimiento del cursor para capturar part√≠culas
			container.addEventListener('mousemove', detectParticleCollision);
	
			// Iniciar animaci√≥n de part√≠culas
			animateParticles();
		}
	
		// Lanzar part√≠culas al hacer clic en el bot√≥n
		document.getElementById('launchParticles').addEventListener('click', function() {
			startParticles();
		});
	</script>
	
	<style>
		/* Estilo para el modo oscuro */
		.bg-dark {
			background-color: #343a40 !important;
		}
		.text-light {
			color: #f8f9fa !important;
		}
	
		/* Estilo para el contador de puntuaci√≥n */
		#score {
			font-weight: bold;
			font-size: 1.2em;
		}
	</style>



<script>
    // Inicializa el popover para el elementobox
    const popoverTrigger = new bootstrap.Popover(document.getElementById('imgPopover'), {
        trigger: 'hover' // Configura para que se active cuando el mouse pase sobre la imagen
    });
</script>
	<script>
		const chatWindow = document.getElementById("chatWindow");
const userInput = document.getElementById("userInput");
const voiceButton = document.getElementById("voiceButton");
const sendButton = document.getElementById("sendButton"); // Bot√≥n de enviar
const clearChat = document.getElementById("clearChat");
const saveChat = document.getElementById("saveChat");
const savedChats = document.getElementById("savedChats");

let chatHistory = [];
let savedChatsData = JSON.parse(localStorage.getItem("savedChatsData")) || [];

const GOOGLE_API_KEY = "AIzaSyANb-3JWKBgTpLLSA5-iTSfM5Q0fRGuv2o";
const CX = "734072da802984e1d";

function renderSavedChats() {
  savedChats.innerHTML = "";
  savedChatsData.forEach((chat, index) => {
    const chatItem = document.createElement("div");
    chatItem.classList.add("mb-2", "p-2", "border", "rounded", "bg-light", "d-flex", "justify-content-between", "align-items-center");

    const chatName = document.createElement("span");
    chatName.textContent = chat.name;
    chatName.style.cursor = "pointer";

    chatName.addEventListener("click", () => {
      chatWindow.innerHTML = "";
      chat.history.forEach(msg => {
        addMessage(msg.sender, msg.message, msg.color, msg.sender === "Usuario" ? "right" : "left");
      });
    });

    const deleteButton = document.createElement("button");
    deleteButton.textContent = "‚ùå";
    deleteButton.classList.add("btn", "btn-sm", "btn-danger");
    deleteButton.addEventListener("click", () => {
      savedChatsData.splice(index, 1);
      saveToLocalStorage();
      renderSavedChats();
    });

    chatItem.appendChild(chatName);
    chatItem.appendChild(deleteButton);
    savedChats.appendChild(chatItem);
  });
}

function saveToLocalStorage() {
  localStorage.setItem("savedChatsData", JSON.stringify(savedChatsData));
}

function addMessage(sender, message, color, align, colorFont) {
  const messageDiv = document.createElement("div");
  messageDiv.classList.add("mb-2", "p-2", "rounded");
  messageDiv.style.backgroundColor = color;
  messageDiv.style.color = colorFont;
  messageDiv.style.maxWidth = "80%";
  messageDiv.style.marginLeft = align === "left" ? "0" : "auto";
  messageDiv.style.marginRight = align === "right" ? "0" : "auto";
  messageDiv.style.textAlign = align;
  messageDiv.innerHTML = `<strong>${sender}:</strong> ${message}`;
  chatWindow.appendChild(messageDiv);
  chatWindow.scrollTop = chatWindow.scrollHeight;

  chatHistory.push({ sender, message, color });
}

saveChat.addEventListener("click", () => {
  if (chatHistory.length > 0) {
    const chatName = `chat ${new Date().toLocaleString()}`;
    savedChatsData.push({ name: chatName, history: [...chatHistory] });
    saveToLocalStorage();
    renderSavedChats();
    chatHistory = [];
    chatWindow.innerHTML = "";
  } else {
    console.log("No hay mensajes para guardar.");
  }
});

clearChat.addEventListener("click", () => {
  chatHistory = [];
  chatWindow.innerHTML = "";
});

const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
const recognition = new SpeechRecognition();
recognition.lang = "es-ES";

recognition.onstart = () => {
  voiceButton.textContent = "Escuchando...";
};

recognition.onend = () => {
  voiceButton.textContent = "üé§";
};

recognition.onresult = (event) => {
  const transcript = event.results[0][0].transcript;
  addMessage("Usuario", transcript, "#1f5869", "right", "#c2f3f0");
  fetchSearchResults(transcript);
};

recognition.onerror = (event) => {
  console.error("Error en el reconocimiento de voz:", event.error);
  addMessage("Asistente", "Error con el reconocimiento de voz. Verifica tu micr√≥fono y permisos.", "#f1d7e5", "left");
};

voiceButton.addEventListener("click", () => {
  recognition.start();
});

sendButton.addEventListener("click", () => {
  const userMessage = userInput.value.trim();
  if (userMessage) {
    addMessage("Usuario", userMessage, "#1f5869", "right", "#feffff");
    fetchSearchResults(userMessage);
    userInput.value = "";
  }
});

async function fetchSearchResults(query) {
  try {
    const response = await fetch(
      `https://www.googleapis.com/customsearch/v1?q=${query}&key=${GOOGLE_API_KEY}&cx=${CX}`
    );
    const data = await response.json();
    if (data.items && data.items.length > 0) {
      const snippet = data.items[0].snippet || "No se encontr√≥ informaci√≥n relevante.";
      addMessage("Asistente", snippet, "#c2f3f0", "left");
    } else {
      addMessage("Asistente", "No se encontraron resultados.", "#f1d7e5", "left");
    }
  } catch (error) {
    console.error("Error al realizar la b√∫squeda:", error);
    addMessage("Asistente", "Error al realizar la b√∫squeda.", "#f1d7e5", "left");
  }
}

document.addEventListener("DOMContentLoaded", renderSavedChats);

	</script>
	
	
	
	<script>
		document.querySelector('#clientesRecientes').addEventListener('show.bs.collapse', () => {
		document.querySelector('#iconCollapse').setAttribute('data-feather', 'chevron-up');
		feather.replace();
		});
		document.querySelector('#clientesRecientes').addEventListener('hide.bs.collapse', () => {
		document.querySelector('#iconCollapse').setAttribute('data-feather', 'chevron-down');
		feather.replace();
		});

	</script>


	<script>
		document.addEventListener("DOMContentLoaded", function() {
			// Pie chart
			new Chart(document.getElementById("chartjs-dashboard-pie"), {
				type: "pie",
				data: {
					labels: ["Chrome", "Firefox", "IE"],
					datasets: [{
						data: [4306, 3801, 1689],
						backgroundColor: [
							window.theme.success,
							window.theme.warning,
							window.theme.danger
						],
						borderWidth: 5
					}]
				},
				options: {
					responsive: !window.MSInputMethodContext,
					maintainAspectRatio: false,
					legend: {
						display: false
					},
					cutoutPercentage: 75
				}
			});
		});
	</script>
	<script>
		document.addEventListener("DOMContentLoaded", function() {
			// Bar chart
			new Chart(document.getElementById("chartjs-dashboard-bar"), {
				type: "bar",
				data: {
					labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
					datasets: [{
						label: "This year",
						backgroundColor: window.theme.primary,
						borderColor: window.theme.primary,
						hoverBackgroundColor: window.theme.primary,
						hoverBorderColor: window.theme.primary,
						data: [54, 67, 41, 55, 62, 45, 55, 73, 60, 76, 48, 79],
						barPercentage: .75,
						categoryPercentage: .5
					}]
				},
				options: {
					maintainAspectRatio: false,
					legend: {
						display: false
					},
					scales: {
						yAxes: [{
							gridLines: {
								display: false
							},
							stacked: false,
							ticks: {
								stepSize: 20
							}
						}],
						xAxes: [{
							stacked: false,
							gridLines: {
								color: "transparent"
							}
						}]
					}
				}
			});
		});
	</script>
	<script>
		document.addEventListener("DOMContentLoaded", function() {
			var markers = [{
					coords: [31.230391, 121.473701],
					name: "Shanghai"
				},
				{
					coords: [28.704060, 77.102493],
					name: "Delhi"
				},
				{
					coords: [6.524379, 3.379206],
					name: "Lagos"
				},
				{
					coords: [35.689487, 139.691711],
					name: "Tokyo"
				},
				{
					coords: [23.129110, 113.264381],
					name: "Guangzhou"
				},
				{
					coords: [40.7127837, -74.0059413],
					name: "New York"
				},
				{
					coords: [34.052235, -118.243683],
					name: "Los Angeles"
				},
				{
					coords: [41.878113, -87.629799],
					name: "Chicago"
				},
				{
					coords: [51.507351, -0.127758],
					name: "London"
				},
				{
					coords: [40.416775, -3.703790],
					name: "Madrid "
				}
			];
			var map = new jsVectorMap({
				map: "world",
				selector: "#world_map",
				zoomButtons: true,
				markers: markers,
				markerStyle: {
					initial: {
						r: 9,
						strokeWidth: 7,
						stokeOpacity: .4,
						fill: window.theme.primary
					},
					hover: {
						fill: window.theme.primary,
						stroke: window.theme.primary
					}
				},
				zoomOnScroll: false
			});
			window.addEventListener("resize", () => {
				map.updateSize();
			});
		});
	</script>
	<script>
		document.addEventListener("DOMContentLoaded", function() {
			var date = new Date(Date.now() - 5 * 24 * 60 * 60 * 1000);
			var defaultDate = date.getUTCFullYear() + "-" + (date.getUTCMonth() + 1) + "-" + date.getUTCDate();
			document.getElementById("datetimepicker-dashboard").flatpickr({
				inline: true,
				prevArrow: "<span title=\"Previous month\">&laquo;</span>",
				nextArrow: "<span title=\"Next month\">&raquo;</span>",
				defaultDate: defaultDate
			});
		});
	</script>
	<script>
		(() => {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  const forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }

      form.classList.add('was-validated')
    }, false)
  })
})()
	</script>
	 <script>
		const searchInput = document.getElementById('searchInput');
		const searchPop = document.getElementById('searchPop');
	
		searchInput.addEventListener('input', () => {
		  if (searchInput.value.trim() !== '') {
			searchPop.style.display = 'block';
		  } else {
			searchPop.style.display = 'none';
		  }
		});
	
		document.addEventListener('click', (event) => {
		  if (!searchInput.contains(event.target) && !searchPop.contains(event.target)) {
			searchPop.style.display = 'none';
		  }
		});
	  </script>
	

</body>

</html>